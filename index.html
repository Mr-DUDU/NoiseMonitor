<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Monitor de Ruido en el Aula</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap JS y Popper.js para la funcionalidad del modal -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
  </head>

  <body>
    <!-- Header -->
    <header class="d-flex align-items-center justify-content-between px-4">
      <a href="#" onclick="location.reload();">
        <img
          src="https://static.vecteezy.com/system/resources/thumbnails/013/760/641/small/ecuador-circle-flag-png.png"
          alt="Logo"
          style="width: 60px; height: 60px;"
        />
      </a>
      <h1 class="p-3 flex-grow-1">Monitor de ruido</h1>
      <span class="text-muted"
        >&copy; 2024 Ministerio de Educación del Ecuador</span
      >
    </header>

    <!-- Section -->
    <section class="d-flex align-items-center justify-content-center bg-body-secondary">
      <div class="container text-center">
        <div class="row border">
          <!-- Monitor -->
          <div class="col-8 canvas-container">
            <!-- Título con Bold y Color Primary -->
            <h1 class="display-2 text-primary">Monitor de ruido</h1>
            <!-- Canvas con fondo blanco y esquinas redondeadas -->
            <canvas id="visualizador"></canvas>
          </div>
          <!-- Imagen -->
          <div class="card col-4 border border-1 border-primary">
            <img
              id="estado-imagen"
              src="https://static.thenounproject.com/png/77879-200.png"
              class="card-img-top"
              alt="Estado del ruido"
            />
            <div class="card-body">
              <h5 id="estado-texto" class="card-title text-primary-emphasis">Estado: Moderado</h5>
              <!-- Calibración -->
              <!-- Modal para Calibración -->
              <div
                class="modal fade"
                id="modalCalibracion"
                tabindex="-1"
                aria-labelledby="modalCalibracionLabel"
                aria-hidden="true"
              >
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="modalCalibracionLabel">
                        Calibrar Umbral Estable
                      </h5>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="modal-body">
                      <div class="form-group">
                        <label for="sliderEstable"
                          >Ruido Estable (20-60 dB)</label
                        >
                        <input
                          type="range"
                          id="sliderEstable"
                          min="20"
                          max="60"
                          value="20"
                          class="form-range"
                          oninput="actualizarUmbral('estable', this.value)"
                        />
                        <p>
                          Valor actual: <span id="valorEstable">20</span> dB
                        </p>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button
                        type="button"
                        class="btn btn-secondary"
                        data-bs-dismiss="modal"
                      >
                        Cerrar
                      </button>
                      <button
                        type="button"
                        class="btn btn-outline-warning"
                        onclick="guardarCalibracion()"
                      >
                        Guardar Cambios
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Botón para abrir el modal -->
              <button
                class="btn btn-warning"
                data-bs-toggle="modal"
                data-bs-target="#modalCalibracion"
              >
                Calibrar Ruido
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="d-flex align-items-center justify-content-center">
        <p class="text-center">
          &copy; 2024 Dirección Nacional de Tecnologías para la Educación <br>
          Desarrollado por: David Averos (MrDUDU)
        </p>
      </footer>      

    <!-- Scripts -->
    <script src="main.js"></script>
    <!-- Bootstrap JS y Popper.js para la funcionalidad del modal -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
  </body>
</html>
